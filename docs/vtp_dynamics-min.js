function rescale(e,t,n,o,a){return o||(o=0),a||(a=1),(n-t)*(e-o)/(a-o)+t}function interleave(e,t){if(e.length!=t.length)throw"inputs must have the same length";C=new Array(2*e.length);for(let n=0;n<e.length;n++)C[2*n]=e[n],C[2*n+1]=t[n];return C}$(document).ready((()=>{let e=Math.sqrt(500)/2,t=[-e,-e,e,e];const n=new VTPState(500,1,20,"leading straight cone"),o=new VTPState(700,1,8,"leading straight cone");o.randomize(t),o.addTargetComponent([0,0]);let a=1;n.randomize(t),n.addTargetComponent([0,0]);const l=document.getElementById("canvas");let r;setInterval((()=>{n.render(l,t.map((e=>e*a)))}),40);const c=$("#startstop");c.change((()=>{c.prop("checked")?r=setInterval((()=>{n.step(),$("#treadout").html(n.iteration)}),40):clearInterval(r)})),$("#zoomin").on("click",(()=>a/=1.1)),$("#zoomout").on("click",(()=>a*=1.1));const i=n.alignmentStrength,s=$("#slider"),g=$("#nureadout");s.val(i),s.width(200),g.text(i),s.on("change",(()=>{n.alignmentStrength=s.val(),g.text(s.val())}));const d=$("#textinput");$("#submit").on("click",(()=>{const e=parseFloat(d.val());!isNaN(e)&&e>0&&(n.alignmentStrength=e)})),$("#export").on("click",(()=>{n.exportData()})),$("#Pol").on("click",(()=>{console.log(n.polarization())})),$("#L").on("click",(()=>{console.log(n.angularMomentum())})),$("#P").on("click",(()=>{console.log(n.voronoiPressure())})),$("#rmed").on("click",(()=>{console.log(n.medianRadius())})),$("#triArea").on("click",(()=>{console.log(Math.sqrt(n.centralTriangleArea()))})),$("#r2P").on("click",(()=>{console.log(Math.pow(n.medianRadius(),2)*n.voronoiPressure())}))}));