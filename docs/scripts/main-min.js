var movieSelected=!1;function nSlider(){const e=$("#nslide"),t=$("#nslide ~ .label-container .label"),a=e.attr("min"),o=e.attr("max");var r=e.val(),i=(r-a)/(o-a);t.css("left",100*i+"%"),t.html(r),e.on("input",(function(){r=e.val(),i=(r-a)/(o-a),t.css("left",100*i+"%"),t.html(r)}))}function ICselect(){$(".IC-option").on("click",(function(){$(".IC-option").attr("data-selected","false"),$(this).attr("data-selected","true")}))}function nodeSelect(){$(".node").on("click",(function(){$(".node").attr("data-selected","false"),$(this).attr("data-selected","true")}))}function changeOptions(){"corridor"==$('input[name="man"]:checked').val()?($('[class^="field-"]').css("display","none"),$(".field-dom").css("display","block"),$(".field-influx").css("display","block"),$(".field-nu").css("display","block")):($('[class^="field-"]').css("display","block"),$(".field-influx").css("display","none"),$(".field-nu").css("display","none"))}function changeOptionsCaller(){$("#dom-selector").change(changeOptions)}function drawParameterWidget(){const e=$(".parameter-widget .xtick");for(i=0;i<e.length;i++)$(e[i]).html(i);const t=$("#nslide").val(),a=$('input[name="targ"]:checked').val(),o=$('input[name="man"]:checked').val(),r=$('.IC-option[data-selected="true"]').attr("data-spec");var l="";o&&(l=o.toUpperCase()[0]);const c=$(".parameter-widget .node");$(c[0]).css("width");var n,s,d,p,u,m,f;for(i=0;i<c.length;i++)p=(n=$(c[i])).attr("data-cond"),u=parseInt(p[0]),m=p[1],f=parseInt(p.substr(3,3)),icSpec=p.substr(7,2),u!=a||m!=l||f!=t||icSpec!=r?(n.css("opacity","0"),n.css("pointer-events","none"),n.attr("data-selected","false")):(n.css("opacity","1"),n.css("pointer-events","auto")),mu=n.attr("data-mu"),d=30*n.attr("data-nu"),s=100/e.length*mu,n.css("left",s+"%"),n.css("bottom",d+"%")}function redrawParameterWidget(){$(".button-row").change(drawParameterWidget),$("#nslide").change(drawParameterWidget),$(".IC-option").click(drawParameterWidget),$(".node").click(drawParameterWidget)}function serveVideo(){const e={torus_n300tar0mu0_87nu2icUU:'<iframe class="vid" width="560" height="315" src="https://www.youtube.com/embed/kz3RPHTv7N0?autoplay=1&playlist=kz3RPHTv7N0&loop=1&rel=0&controls=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>',torus_n300tar0mu1_73nu2icUU:'<iframe class="vid" width="560" height="315" src="https://www.youtube.com/embed/iP4Bw21OFa8?autoplay=1&playlist=iP4Bw21OFa8&loop=1&rel=0&controls=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>',torus_n300tar0mu3_46nu2icUU:'<iframe class="vid" width="560" height="315" src="https://www.youtube.com/embed/r1fMxQPBPz0?autoplay=1&playlist=r1fMxQPBPz0&loop=1&ref=0&controls=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>',torus_n300tar0mu0_87nu1icUU:'<iframe class="vid" width="560" height="315" src="https://www.youtube.com/embed/b0WMj1VSljo?autoplay=1&playlist=b0WMj1VSljo&loop=1&ref=0&controls=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>',torus_n300tar0mu1_73nu1icUU:'<iframe class="vid" width="560" height="315" src="https://www.youtube.com/embed/vSE0yF4NGhE?autoplay=1&playlist=vSE0yF4NGhE&loop=1&ref=0&controls=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>',torus_n300tar0mu3_46nu1icUU:'<iframe class="vid" width="560" height="315" src="https://www.youtube.com/embed/cj49cUUOJZ0?autoplay=1&playlist=cj49cUUOJZ0&loop=1&ref=0&controls=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>',torus_n300tar0mu0_87nu0_5icUU:'<iframe class="vid" width="560" height="315" src="https://www.youtube.com/embed/34SkhISWwhQ?autoplay=1&playlist=34SkhISWwhQ&loop=1&ref=0&controls=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'};$(".player").html("<p>Select options to view simulation</p>");const t=$('input[name="man"]:checked').val();if("corridor"==t){const a=$('input[name="influx"]:checked').val(),o=$('input[name="nu"]:checked').val(),r=o.replaceAll(".","_");if(a&&o){const o=t+"_"+a+"Influx_nu"+r;$(".player").html(e[o])}}else{const a=$("#nslide").val(),o=$('input[name="targ"]:checked').val(),r=$('[data-selected="true"]');if(movieSelected=!1,2==r.length){movieSelected=!0;const i=$(r[0]).attr("data-spec"),l=$(r[1]).attr("data-mu").replaceAll(".","_"),c=$(r[1]).attr("data-nu").replaceAll(".","_");if(a&&o&&t&&i&&l&&c){const r=t+"_n"+a+"tar"+o+"mu"+l+"nu"+c+"ic"+i;$(".player").html(e[r])}}}}function callVideo(){$(".button-row").change(serveVideo),$("#nslide").change(serveVideo),$(".IC-option").click(serveVideo),$(".node").click(serveVideo)}function getParamsFromURL(){const e=window.location.search,t=new URLSearchParams(e),a=parseInt(t.get("numtar")),o=t.get("dom"),r=parseInt(t.get("n")),l=t.get("ic"),c=parseFloat(t.get("mu")),n=parseFloat(t.get("nu")),s=t.get("influx");if(r){const e=$("#nslide"),t=e.attr("min"),a=e.attr("max"),o=e.attr("step");var d=!1;r>=t&&r<=a&&(r-t)%o==0&&(d=!0,e.val(r))}if(null!=a){const e=$("#target-selector input");var p;for(i=0;i<e.length;i++)if(p=e[i],$(p).val()==a){$(p).prop("checked",!0),!0;break}}if(o){const e=$("#dom-selector input");var u;for(i=0;i<e.length;i++)if(u=e[i],$(u).val()==o){$(u).prop("checked",!0),!0;break}}if(s){const e=$("#influx-selector input");var m;for(i=0;i<e.length;i++)if(m=e[i],$(m).val()==s){$(m).prop("checked",!0),!0;break}}if("corridor"==o&&n){const e=$("#nu-selector input");var f;for(i=0;i<e.length;i++)if(f=e[i],$(f).val()==n){$(f).prop("checked",!0),!0;break}}if(l){const e=$(".IC-option");var h=!1;for(i=0;i<e.length;i++)if($(e[i]).attr("data-spec")==l.toUpperCase()){$(e[i]).attr("data-selected","true"),h=!0;break}}if("corridor"!=o&&c&&n){const e=$(".parameter-widget .node");var w=!1,y=e[0];for(i=0;i<e.length;i++)if((y=$(e[i])).attr("data-mu")==c&&y.attr("data-nu")==n){w=!0,y.attr("data-selected","true");break}}d&&h&&w&&(movieSelected=!0)}function copyLink(){const e=$(".share-button");e.click((function(){if(movieSelected){const a=$("#nslide").val(),o=$('input[name="targ"]:checked').val(),r=$('input[name="man"]:checked').val(),i=$('.IC-option[data-selected="true"]').attr("data-spec"),l=$('.node[data-selected="true"]'),c=l.attr("data-mu"),n=l.attr("data-nu");var t=new URLSearchParams;t.append("n",a),o&&t.append("numtar",o),r&&t.append("dom",r),i&&t.append("ic",i),c&&t.append("mu",c),n&&t.append("nu",n);copyToClipboard(window.location.origin+window.location.pathname+"?"+t.toString())&&e.html("link copied!")}else e.html("no selection");setTimeout((function(){e.html("copy link")}),3e3)}))}function copyToClipboard(e){const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.bottom="-10px",document.body.appendChild(t),t.select();const a=document.execCommand("copy");return document.body.removeChild(t),a}$(document).ready((function(){getParamsFromURL(),nSlider(),ICselect(),changeOptions(),changeOptionsCaller(),drawParameterWidget(),redrawParameterWidget(),nodeSelect(),serveVideo(),callVideo(),copyLink()}));